(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(48),o=a.n(r),s=(a(59),a(60),a(51)),c=a(12),l=a(1),u=a(2),h=a(5),m=a(3),v=a(4),d=a(14),f=a(11),b=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).onClick=t.onClick,a.height=100,a.width=a.height,a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.refs.canvas.getContext("2d");switch(this.drawSquare(t),this.props.cell){case 0:break;case 1:this.drawCircle(t);break;case 2:this.drawCross(t)}}},{key:"componentWillReceiveProps",value:function(t){var e=this.refs.canvas.getContext("2d");switch(t.cell){case 0:break;case 1:this.drawCircle(e);break;case 2:this.drawCross(e)}}},{key:"drawSquare",value:function(t){t.strokeRect(0,0,this.height,this.width)}},{key:"drawCross",value:function(t){t.lineWidth=1,t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,this.height),t.stroke(),t.lineWidth=1,t.beginPath(),t.moveTo(this.width,0),t.lineTo(0,this.height),t.stroke()}},{key:"drawCircle",value:function(t){t.beginPath(),t.arc(this.height/2,this.height/2,this.height/3,0,2*Math.PI),t.stroke()}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{onClick:function(){t.onClick(t.props.i,t.props.j)}},i.a.createElement("canvas",{ref:"canvas",width:this.width,height:this.height}))}}]),e}(i.a.Component),p=(a(32),function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={},a.onCellClick=a.onCellClick.bind(Object(f.a)(a)),a.onUpdateView=a.onUpdateView.bind(Object(f.a)(a)),a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"onCellClick",value:function(t,e){}},{key:"onUpdateView",value:function(t){}},{key:"getMessage",value:function(){}},{key:"render",value:function(){var t=this,e=null==this.state.board?[]:this.state.board.map(function(e,a){var n=e.map(function(e,n){return i.a.createElement("div",{key:n,style:{marginLeft:"5px",marginRight:"5px"}},i.a.createElement(b,{cell:e,i:a,j:n,onClick:t.onCellClick}))});return i.a.createElement("div",{key:a},n)});return i.a.createElement("div",null,i.a.createElement("h3",{style:{textAlign:"center"}},"Tic Tac Toe"),i.a.createElement("h3",{style:{textAlign:"center"}},this.getMessage()),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5 col-sm-5"}),e))}}]),e}(i.a.Component)),g=a(16),y=a(7),O=a.n(y),C=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).game=new g.default,a.state=a.game.getState(),a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"onCellClick",value:function(t,e){var a=this.game.doMove(t,e,this.game._state.currentPlayer);this.onUpdateView(a)}},{key:"onUpdateView",value:function(t){this.setState(Object(d.a)({},t))}},{key:"getMessage",value:function(){return console.log(this.state),null==this.state?"loading":this.state.gameComplete===O.a.GAME_ON?1===this.state.currentPlayer?"Player 'O's turn":"Playe 'X's turn":this.state.gameComplete===O.a.TIE?"Its a Tie":"Player "+this.state.gameComplete===O.a.P1_WON?"O":"X won"}}]),e}(p),k=function(t){function e(t){return Object(l.a)(this,e),Object(h.a)(this,Object(m.a)(e).call(this,t))}return Object(v.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(C,null))}}]),e}(i.a.Component),w=a(49),j=a.n(w),_=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).game=new g.default,a.state=a.game.getState(),a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"onCellClick",value:function(t,e){if(2!==this.state.currentPlayer){var a=this.game.doMove(t,e,this.game._state.currentPlayer);this.onUpdateView(a)}}},{key:"onUpdateView",value:function(t){var e=this;this.setState(Object(d.a)({},t),function(){if(2===e.state.currentPlayer){var t=j()(e.state),a=e.game.doMove(t[0],t[1],e.state.currentPlayer);setTimeout(function(){e.onUpdateView(a)},100)}})}},{key:"getMessage",value:function(){return console.log(this.state),null==this.state?"loading":this.state.gameComplete===O.a.GAME_ON?1===this.state.currentPlayer?"Player 'O's turn":"Playe 'X's turn":this.state.gameComplete===O.a.TIE?"Its a Tie":"Player "+this.state.gameComplete===O.a.P1_WON?"O":"X won"}}]),e}(p),E=function(t){function e(t){return Object(l.a)(this,e),Object(h.a)(this,Object(m.a)(e).call(this,t))}return Object(v.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(_,null))}}]),e}(i.a.Component),P=function(t){function e(t){return Object(l.a)(this,e),Object(h.a)(this,Object(m.a)(e).call(this,t))}return Object(v.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,"home page")}}]),e}(i.a.Component),M=a(50),I=a.n(M),N=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).socket=I()("http://localhost:4300"),1===a.props.whoami?a.socket.emit("create",a.props.id):a.socket.emit("join",a.props.id),a.socket.on("updateView",a.onUpdateView),a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"onCellClick",value:function(t,e){this.props.whoami===this.state.currentPlayer&&this.socket.emit("move",{i:t,j:e})}},{key:"onUpdateView",value:function(t){this.setState(Object(d.a)({},t))}},{key:"getMessage",value:function(){return null==this.state.board?"loading":this.state.gameComplete===O.a.GAME_ON?1===this.state.currentPlayer?"Player 'O's turn":"Playe 'X's turn":this.state.gameComplete===O.a.TIE?"Its a Tie":"Player "+(this.state.gameComplete==O.a.P1_WON?"O":"X")+" won"}}]),e}(p),T=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={showBoard:!1,whoami:null,id:""},a.onChange=a.onChange.bind(Object(f.a)(a)),a.create=a.create.bind(Object(f.a)(a)),a.join=a.join.bind(Object(f.a)(a)),a}return Object(v.a)(e,t),Object(u.a)(e,[{key:"onChange",value:function(t){this.setState({id:t.target.value})}},{key:"create",value:function(){this.setState({whoami:1,showBoard:!0})}},{key:"join",value:function(){this.setState({whoami:2,showBoard:!0})}},{key:"render",value:function(){var t=i.a.createElement("div",null,i.a.createElement("input",{type:"number",onChange:this.onChange}),i.a.createElement("button",{onClick:this.create},"create"),i.a.createElement("button",{onClick:this.join},"join")),e=i.a.createElement(N,{whoami:this.state.whoami,id:this.state.id,show:this.state.showBoard});return i.a.createElement("div",null,this.state.showBoard?e:t)}}]),e}(i.a.Component);var x=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(s.a,null,i.a.createElement(c.a,{exact:!0,path:"/",component:P}),i.a.createElement(c.a,{path:"/local/",component:k}),i.a.createElement(c.a,{path:"/ai/",component:E}),i.a.createElement(c.a,{path:"/online/",component:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},16:function(t,e,a){"use strict";a.r(e),function(t){a.d(e,"default",function(){return s});var n=a(1),i=a(2),r=a(7),o=a(61),s=function(){function t(e){Object(n.a)(this,t),this._state=e||new o}return Object(i.a)(t,[{key:"getState",value:function(){return this._state}},{key:"doMove",value:function(t,e,a){return this._state.gameComplete?null:this._state.currentPlayer!=a?null:0!=this._state.board[t][e]?null:(this._updateModel(t,e,a),this._state)}},{key:"_updateModel",value:function(t,e,a){this._state.board[t][e]=a;var n=this._checkComplete(t,e,a);this._state.gameComplete=n,this._state.moves++,this._state.currentPlayer=this._state.moves%2+1}},{key:"_checkComplete",value:function(t,e,a){var n=1===a?r.P1_WON:r.P2_WON;return this._getCoinsCountInDir(t,e,1)+this._getCoinsCountInDir(t,e,5)>=2?n:this._getCoinsCountInDir(t,e,2)+this._getCoinsCountInDir(t,e,6)>=2?n:this._getCoinsCountInDir(t,e,3)+this._getCoinsCountInDir(t,e,7)>=2?n:this._getCoinsCountInDir(t,e,4)+this._getCoinsCountInDir(t,e,8)>=2?n:this._state.moves>=this._state.maxMoves-1?r.TIE:r.GAME_ON}},{key:"_getCoinsCountInDir",value:function(t,e,a){var n=this._state.board[t][e],i=0,r=[-1,0,1,1,1,0,-1,-1][a-=1],o=[-1,-1,-1,0,1,1,1,0][a];for(t+=o,e+=r;t>=0&&t<this._state.rows&&e>=0&&e<this._state.cols&&n==this._state.board[t][e];)i++,t+=o,e+=r;return i}}]),t}();t.exports=s}.call(this,a(33)(t))},49:function(t,e,a){var n=a(62),i=a(7),r=a(16),o=function(t){for(var e=[],a=0;a<t.rows;a++)for(var n=0;n<t.cols;n++)0===t.board[a][n]&&e.push([a,n]);return e},s=function t(e,a,s,c){if(a===c)return 0;var l=function(t,e){var a=0;switch(t.gameComplete){case i.P1_WON:a=1===e?10:-10;break;case i.P2_WON:a=2===e?10:-10;break;case i.TIE:a=0;break;default:a=0}return a}(e._state,s);if(10===l||-10===l||e._state.gameComplete===i.TIE)return l;var u=o(e._state),h=e._state.currentPlayer==s;l=h?-1e3:1e3;var m=!0,v=!1,d=void 0;try{for(var f,b=u[Symbol.iterator]();!(m=(f=b.next()).done);m=!0){var p=f.value,g=(p[0],p[1],new r(n(e._state)));g.doMove(p[0],p[1],g._state.currentPlayer);var y=t(g,a+1,s,c);h?y>l&&(l=y):y<l&&(l=y)}}catch(O){v=!0,d=O}finally{try{m||null==b.return||b.return()}finally{if(v)throw d}}return l};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=o(t),i=-1e3,c=[-1,-1],l=t.currentPlayer,u=!0,h=!1,m=void 0;try{for(var v,d=a[Symbol.iterator]();!(u=(v=d.next()).done);u=!0){var f=v.value,b=f[0],p=f[1],g=new r(n(t));g.doMove(b,p,g._state.currentPlayer);var y=s(g,0,l,e);y>i&&(i=y,c=f)}}catch(O){h=!0,m=O}finally{try{u||null==d.return||d.return()}finally{if(h)throw m}}return c}},54:function(t,e,a){t.exports=a(100)},59:function(t,e,a){},60:function(t,e,a){},61:function(t,e,a){"use strict";a.r(e),function(t){var e=a(1),n=a(2),i=a(7),r=function(){function t(){Object(e.a)(this,t),this.currentPlayer=1,this.moves=0,this.rows=3,this.cols=3,this.board=this._generateBoard(),this.maxMoves=this.rows*this.cols,this.gameComplete=i.GAME_ON}return Object(n.a)(t,[{key:"_generateBoard",value:function(){for(var t=[],e=0;e<this.rows;e++){for(var a=[],n=0;n<this.cols;n++)a.push(0);t.push(a)}return t}}]),t}();t.exports=r}.call(this,a(33)(t))},62:function(t,e){t.exports=function t(e){var a,n,i;for(i in a=Array.isArray(e)?[]:{},e)n=e[i],a[i]="object"===typeof n?t(n):n;return a}},7:function(t,e){t.exports={P1_WON:1,P2_WON:2,TIE:3,GAME_ON:0}},89:function(t,e){}},[[54,1,2]]]);
//# sourceMappingURL=main.bbe06b06.chunk.js.map